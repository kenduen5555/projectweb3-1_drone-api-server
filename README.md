# üöÄ Drone API Server

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô **API Server** 
‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô (Drone) ‡πÇ‡∏î‡∏¢‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ö 2 ‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà  

- üõ∞Ô∏è **Drone Config Server** ‚Äì ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÇ‡∏î‡∏£‡∏ô  
- üßæ **Drone Log Server (PocketBase)** ‚Äì ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• log ‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô  

‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ç‡∏≠‡∏á Assignment ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á RESTful API  
‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Frontend ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏ô Assignment #2  

---

## ‚ú® Features

| Endpoint | Method | Description |
|-----------|---------|-------------|
| `/configs/:droneId` | **GET** | ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏à‡∏≤‡∏Å Drone Config Server |
| `/status/:droneId` | **GET** | ‡∏î‡∏∂‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (condition) ‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô |
| `/logs/:droneId` | **GET** | ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• log ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏à‡∏≤‡∏Å Drone Log Server (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö pagination) |
| `/logs` | **POST** | ‡πÄ‡∏û‡∏¥‡πà‡∏° log ‡πÉ‡∏´‡∏°‡πà‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡πÉ‡∏ô Drone Log Server |

---

## ‚öôÔ∏è Installation & Setup

### 1Ô∏è‚É£ Clone Project ‡∏à‡∏≤‡∏Å GitHub
git clone https://github.com/<your-username>/<your-repo-name>.git
cd <your-repo-name>

###2Ô∏è‚É£ ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Dependencies
‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÉ‡∏´‡πâ‡∏£‡∏±‡∏ô‡∏ó‡∏µ‡πà Terminal ‡∏Ç‡∏≠‡∏á Git bash ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå
npm install

###3Ô∏è‚É£ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå .env
‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏ä‡∏∑‡πà‡∏≠ .env ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏™‡πà‡∏Ñ‡πà‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏´‡∏°‡∏î

PORT=3002
DRONE_CONFIG_URL = https://script.google.com/macros/s/AKfycbzwclqJRodyVjzYyY-NTQDb9cWG6Hoc5vGAABVtr5-jPA_ET_2IasrAJK4aeo5XoONiaA/exec
DRONE_LOG_URL = https://app-tracking.pockethost.io/api/collections/drone_logs/records
PERPAGE=12
LOG_API_TOKEN = 20250901efx

###4Ô∏è‚É£ ‡∏£‡∏±‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
node index.js
‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ Nodemon ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á:
npm nodemon index.js
‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ scripts ‡∏Ç‡∏≠‡∏á package.json ‡πÑ‡∏î‡πâ‡πÉ‡∏™‡πà
"dev": "nodemon index.js" ‡πÑ‡∏ß‡πâ‡∏ã‡∏∂‡πà‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏±‡∏ô‡∏ï‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡πÅ‡∏ó‡∏ô‡πÑ‡∏î‡πâ
npm run dev
  
‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏±‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:

Server is running on http://localhost:(PORT)
üåê Environment Variables
Variable	Description
PORT	‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏£‡∏±‡∏ô‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå
DRONE_CONFIG_URL	URL ‡∏Ç‡∏≠‡∏á Drone Config Server
DRONE_LOG_URL	URL ‡∏Ç‡∏≠‡∏á Drone Log Server
LOG_API_TOKEN	Bearer Token ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Drone Log Server

üì° API Documentation
üîπ GET /configs/:droneId
Description: ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô
Response Example:

json
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î
{
  "drone_id": 66010608,
  "drone_name": "Exeoid",
  "light": "on",
  "country": "Japan",
  "weight": 21
}
üîπ GET /status/:droneId
Description: ‡∏î‡∏∂‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô
Response Example:

json
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î
{
  "condition": "good"
}
üîπ GET /logs/:droneId?page=1
Description: ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Log ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô
‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Pagination (12 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤)

Query Parameters:

Name	Type	Description
page	Number	‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô = 1)

Response Example:

json
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î
[
  {
    "drone_id": 66010608,
    "drone_name": "Exeoid",
    "created": "2025-11-03T17:58:08.557Z",
    "country": "Japan",
    "celsius": 21.3
  },
  {
    "drone_id": 66010608,
    "drone_name": "Exeoid",
    "created": "2025-11-03T17:57:58.136Z",
    "country": "Japan",
    "celsius": 8
  }
]
üîπ POST /logs
Description: ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• log ‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ Drone Log Server
Request Body Example:

json
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î
{
  "drone_id": 66010608,
  "drone_name": "Exeoid",
  "country": "Japan",
  "celsius": 22.5
}
Response Example:

json
‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÇ‡∏Ñ‡πâ‡∏î
{
  "message": "Log created successfully",
  "log": {
    "drone_id": 66010608,
    "drone_name": "Exeoid",
    "country": "Japan",
    "celsius": 22.5
  }
}
üîÅ Pagination
‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö Pagination ‡∏ú‡πà‡∏≤‡∏ô query parameter ?page=
‡πÇ‡∏î‡∏¢‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á 12 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤ (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å log ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡πà‡∏≠‡∏ô)
‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏≠‡∏Å‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏Ç‡∏≠‡∏á‡πÇ‡∏î‡∏£‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á	URL
‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å	GET /logs/3001?page=1
‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ	GET /logs/3001?page=2
